SPEAR:
  LAUNCH_MODE: "standalone_executable"
  STANDALONE_EXECUTABLE: "/home/qleboute/Documents/Git/spear/cpp/unreal_projects/SpearSim/Standalone-Shipping/LinuxNoEditor/SpearSim.sh"
  VULKAN_DEVICE_FILES: "/usr/share/vulkan/icd.d/nvidia_icd.json"  
  DATA_DIR: "/home/qleboute/Documents/Git/spear_data/v7/linux"
  CONTENT_DIR: "/home/qleboute/Documents/Git/spear/cpp/unreal_projects/SpearSim/Standalone-Shipping/LinuxNoEditor/SpearSim/Content"

  CUSTOM_COMMAND_LINE_ARGUMENTS: []
  RENDER_OFFSCREEN: False
  WINDOW_RESOLUTION_X: 640
  WINDOW_RESOLUTION_Y: 480
  RPC_CLIENT_INTERNAL_TIMEOUT_SECONDS: 20.0

SIMULATION_CONTROLLER:
  TASK: "ImitationLearningTask"
  AGENT: "OpenBotAgent"
  CUSTOM_UNREAL_CONSOLE_COMMANDS: []

  SIMULATION_STEP_TIME_SECONDS: 0.033

  IMITATION_LEARNING_TASK:
    AGENT_ACTOR_NAME: "OpenBotAgent"
    GOAL_ACTOR_NAME: "GoalActor"
    OBSTACLE_IGNORE_ACTOR_NAMES: ["Floor", "obj0", "VehicleMesh"]
    GET_POSITIONS_FROM_TRAJECTORY_SAMPLING: True
    TRAJECTORY_SAMPLING_DEBUG_RENDER: False # When True, note that markers will only be dispayed in Standalone-Development mode
    TRAJECTORY_SAMPLING_SEARCH_RADIUS: 10000 # Radius in [m], of the region around the desination coordinates where the goal will be considered as "reached" by the agent. 
    TRAJECTORY_SAMPLING_MAX_ITERS: 5000
    NAVMESH:
      AGENT_RADIUS: 20.0
      AGENT_HEIGHT: 20.0
      AGENT_MAX_STEP_HEIGHT: 1.0
    POSITIONS_FILE: "/home/quentin/Desktop/ISL/spear/examples/openbot/imitation_learning/start_goal_coordinates.csv"

  OPENBOT_AGENT:
    OPENBOT_ACTOR_NAME: "OpenBotAgent"
    TRAJECTORY_DATA:
      GOAL_ACTOR_NAME: "GoalActor"
    ACTION_COMPONENTS: ["apply_voltage"] # "apply_voltage", "set_position_xyz_centimeters", "set_orientation_pyr_radians"
    STEP_INFO_COMPONENTS: ["trajectory_data"] # "trajectory_data"
    OBSERVATION_COMPONENTS: ["state_data", "control_data", "camera", "imu", "sonar"] # "state_data", "control_data", "camera", "imu", "sonar"... The type(s) of "camera" sensor is defined by CAMERA_PARAMETERS.RENDER_PASSES
    IS_READY_VELOCITY_THRESHOLD: 0.0
   
    CAMERA:
      IMAGE_HEIGHT: 1080
      IMAGE_WIDTH: 1920
      FOV: 70.0
      RENDER_PASSES: ["final_color", "segmentation", "depth_glsl"] # "final_color", "segmentation", "depth_glsl", "normals", "lens_distortion" 
      
    NAVMESH:
      AGENT_RADIUS: 20.0
      AGENT_HEIGHT: 20.0
      CELL_SIZE: 1.0
      CELL_HEIGHT: 1.0
      AGENT_MAX_STEP_HEIGHT: 1.0
      AGENT_MAX_SLOPE: 0.1
      MERGE_REGION_SIZE: 0.0
      MIN_REGION_AREA: 400.0
      TILE_SIZE_UU: 300
      TILE_POOL_SIZE: 1024
      MAX_SIMPLIFICATION_ERROR: 1.3
      NAV_MODIFIER_OFFSET_Z: 15.0
      WORLD_BOUND_TAG_NAMES: ["architecture", "furniture"]
  
  VISUALIZER:
    ACTOR_NAME: "OpenBotAgent"
    SPAWN_CAMERA: False
    SPAWN_CAMERA_POSITION_X: -50.0
    SPAWN_CAMERA_POSITION_Y: 0.0
    SPAWN_CAMERA_POSITION_Z: 40.0
    SPAWN_CAMERA_ORIENTATION_PITCH: -35.0
    SPAWN_CAMERA_ORIENTATION_YAW: 0.0
    SPAWN_CAMERA_ORIENTATION_ROLL: 0.0
  
  CAMERA_SENSOR:
    FINAL_COLOR_OVERRIDE_AUTO_EXPOSURE_SPEED_UP: True
    FINAL_COLOR_AUTO_EXPOSURE_SPEED_UP: 9999.0                          # ClampMin=0.02, UIMax=20.0
    FINAL_COLOR_OVERRIDE_AUTO_EXPOSURE_SPEED_DOWN: True
    FINAL_COLOR_AUTO_EXPOSURE_SPEED_DOWN: 9999.0                        # ClampMin=0.02, UIMax=20.0
    FINAL_COLOR_OVERRIDE_INDIRECT_LIGHTING_INTENSITY: True
    FINAL_COLOR_INDIRECT_LIGHTING_INTENSITY: 1.0                        # set to 0.0 on Windows for ray-traced global illumination, set to 1.0 on macOS and Linux to use baked lighting
    FINAL_COLOR_USE_RAYTRACING_IF_ENABLED: True                         # set to True to use ray-tracing features
    FINAL_COLOR_OVERRIDE_RAYTRACING_GI: True
    FINAL_COLOR_RAYTRACING_GI_TYPE: "BruteForce"                        # set to "BruteForce" when using ray-tracing
    FINAL_COLOR_OVERRIDE_RAYTRACING_GI_MAX_BOUNCES: True
    FINAL_COLOR_RAYTRACING_GI_MAX_BOUNCES: 4                            # ClampMin=1, ClampMax=64
    FINAL_COLOR_OVERRIDE_RAYTRACING_GI_SAMPLES_PER_PIXEL: True
    FINAL_COLOR_RAYTRACING_GI_SAMPLES_PER_PIXEL: 16                     # ClampMin=1, ClampMax=64
    FINAL_COLOR_OVERRIDE_RAYTRACING_AO: True
    FINAL_COLOR_RAYTRACING_AO: 1                                        # set to 1 to enable and 0 to disable
    FINAL_COLOR_OVERRIDE_RAYTRACING_AO_SAMPLES_PER_PIXEL: True
    FINAL_COLOR_RAYTRACING_AO_SAMPLES_PER_PIXEL: 8                      # ClampMin=1, ClampMax=64
    FINAL_COLOR_OVERRIDE_RAYTRACING_AO_INTENSITY: True
    FINAL_COLOR_RAYTRACING_AO_INTENSITY: 0.8                            # ClampMin=0.0, ClampMax=1.0
    FINAL_COLOR_OVERRIDE_RAYTRACING_AO_RADIUS: True
    FINAL_COLOR_RAYTRACING_AO_RADIUS: 4000.0                            # ClampMin=0.0, ClampMax=10000.0
    FINAL_COLOR_OVERRIDE_REFLECTIONS_TYPE: True
    FINAL_COLOR_REFLECTIONS_TYPE: "RayTracing"                          # set to "RayTracing" when using ray-tracing
    FINAL_COLOR_OVERRIDE_RAYTRACING_REFLECTIONS_MAX_BOUNCES: True
    FINAL_COLOR_RAYTRACING_REFLECTIONS_MAX_BOUNCES: 2                   # ClampMin=1, ClampMax=64
    FINAL_COLOR_OVERRIDE_RAYTRACING_REFLECTIONS_MAX_ROUGHNESS: True 
    FINAL_COLOR_RAYTRACING_REFLECTIONS_MAX_ROUGHNESS: 0.4               # ClampMin=0.01, ClampMax=1.0
    FINAL_COLOR_OVERRIDE_RAYTRACING_REFLECTIONS_SAMPLES_PER_PIXEL: True
    FINAL_COLOR_RAYTRACING_REFLECTIONS_SAMPLES_PER_PIXEL: 8             # ClampMin=1, ClampMax=64
    FINAL_COLOR_OVERRIDE_RAYTRACING_REFLECTIONS_TRANSLUCENCY: True
    FINAL_COLOR_RAYTRACING_REFLECTIONS_TRANSLUCENCY: 1                  # set to 1 to enable and 0 to disable
    FINAL_COLOR_SET_AMBIENT_OCCLUSION: True                             # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_CAMERA_IMPERFECTIONS: True                          # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_COLOR_GRADING: True                                 # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_DEPTH_OF_FIELD: True                                # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_DISTANCE_FIELD_AO: True                             # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_EYE_ADAPTATION: True                                # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_GRAIN: True                                         # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_INDIRECT_LIGHTING_CACHE: True                       # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_LENS_FLARES: True                                   # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_LIGHT_SHAFTS: True                                  # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_SCREEN_SPACE_REFLECTIONS: True                      # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_SEPARATE_TRANSLUCENCY: True                         # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_TEMPORAL_AA: True                                   # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_VIGNETTE: True                                      # enabled by FEngineShowFlags::EnableAdvancedFeatures()
    FINAL_COLOR_SET_ANTI_ALIASING: True
    FINAL_COLOR_SET_RAYTRACED_DISTANCE_FIELD_SHADOWS: True
    FINAL_COLOR_SET_DYNAMIC_SHADOWS: True
  
  IMU_SENSOR:
    ACCELEROMETER_NOISE_STD_DEV: 
      X: 0.0
      Y: 0.0
      Z: 0.0
    GYROSCOPE_NOISE_STD_DEV: 
      X: 0.0
      Y: 0.0
      Z: 0.0
    GYROSCOPE_BIAS: 
      X: 0.0
      Y: 0.0
      Z: 0.0
    DEBUG_RENDER: False # When True, note that markers will only be dispayed in Standalone-Development mode

  SONAR_SENSOR:
    NUM_RAYS: 21
    MAX_REFLECTION_ANGLE: 45.0
    HORIZONTAL_FOV: 30.0
    VERTICAL_FOV: 10.0
    RANGE:
      MIN: 0.01
      MAX: 10.0
    NOISE_STD_DEV: 0.0
    DEBUG_RENDER: False # When True, note that markers will only be dispayed in Standalone-Development mode

DRIVING_POLICY:
  PERCENTAGE_OF_TRAINING_DATA: 80   # The ratio between training and validation data should be around 80%-20% as suggested in the OpenBot public repo.
  ACCEPTANCE_RADIUS: 0.15           # Radius in [m], of the region around the desination coordinates where the goal will be considered as "reached" by the agent. 
  CONTROL_SATURATION: 0.9           # Saturates the ammount of linar (resp. angular) command before merging them into left/right wheels command
  PID:
    PROPORTIONAL_GAIN_HEADING: 4.25 # PID proportional gain for the autopilot
    DERIVATIVE_GAIN_HEADING: 1.0    # PID derivative gain for the autopilot
    PROPORTIONAL_GAIN_DIST: 4.0     # PID proportional gain for the autopilot
    DERIVATIVE_GAIN_DIST: 0.1      # PID derivative gain for the autopilot
    FORWARD_MIN_ANGLE: 0.5          # Angular range within which the vehicle moves forward to the target in [rad]
  PILOT_NET:
    PATH: ""
   
OPENBOT:
  OPENBOT_PAWN:
    SKELETAL_MESH: "/OpenBot/V0/Meshes/OpenBot_V0_Mesh.OpenBot_V0_Mesh"
    ANIM_INSTANCE: "/OpenBot/V0/Meshes/OpenBot_V0_Animation.OpenBot_V0_Animation_C"

    MOTOR_VELOCITY_CONSTANT: 65.89 # Velocity constant of the OpenBot motors
    GEAR_RATIO: 50.0               # Gear ratio of the OpenBot motors

    BATTERY_VOLTAGE: 12.0          # Voltage of the battery powering the OpenBot [V]
    CONTROL_DEAD_ZONE: 2.5         # Absolute duty cycle (in the ACTION_SCALE range) below which a command does not produces any torque on the vehicle
    MOTOR_TORQUE_MAX: 0.19         # Motor maximal torque [N.m]
    ELECTRICAL_RESISTANCE: 0.5     # Motor winding electrical resistance [Ohms]
    ELECTRICAL_INDUCTANCE: 0.5     # Motor winding electrical inductance [Henry]
    
    ACTION_SCALE: 255              # Action scaling factor

    VEHICLE_COMPONENT:
      MASS: 1.12                   # Mass of the vehicle chassis in [kg]
      DRAG_COEFFICIENT: 1.0        # DragCoefficient of the vehicle chassis
      CHASSIS_WIDTH: 15.0          # Chassis width used for drag force computation in [cm]
      CHASSIS_HEIGHT: 15.0         # Chassis height used for drag force computation in [cm]
      MOTOR_MAX_RPM: 20000.0       # Max RPM for engine

    CAMERA_COMPONENT:
      POSITION_X: 5.0              # Camera relative position in [cm]
      POSITION_Y: 5.0              # Camera relative position in [cm]
      POSITION_Z: 5.0              # Camera relative position in [cm]
      ROLL: 0.0                    # Camera relative orientation in [cm]
      YAW: 0.0                     # Camera relative orientation in [°]
      PITCH: 0.0                   # Camera relative orientation in [°]
      FOV: 70.0                    # Camera field of view in [°]
    
    IMU_COMPONENT:
      POSITION_X: 5.0              # IMU relative position in [cm]
      POSITION_Y: 0.0              # IMU relative position in [cm]
      POSITION_Z: 5.0              # IMU relative position in [cm]
      ROLL: 0.0                    # IMU relative orientation in [°]
      YAW: 0.0                     # IMU relative orientation in [°]
      PITCH: 0.0                   # IMU relative orientation in [°]
      
    SONAR_COMPONENT:
      POSITION_X: 10.0             # Sonar relative position in [cm]
      POSITION_Y: 0.0              # Sonar relative position in [cm]
      POSITION_Z: -1.5             # Sonar relative position in [cm]
      ROLL: 0.0                    # Sonar relative orientation in [°]
      YAW: 0.0                     # Sonar relative orientation in [°]
      PITCH: 0.0                   # Sonar relative orientation in [°]

  OPENBOT_WHEEL:
    AFFECTED_BY_HANDBRAKE: True
    SHAPE_RADIUS: 3.3              # Radius of the wheel in [cm]
    SHAPE_WIDTH: 2.5               # Width of the wheel in [cm]
    STEER_ANGLE: 0.0
    SUSPENSION_MAX_RAISE: 0.0      # How far the wheel can go above the resting position in [m]
    SUSPENSION_MAX_DROP: 0.0       # How far the wheel can drop below the resting position in [m]
    MASS: 0.033                    # Mass of this wheel in [kg]
